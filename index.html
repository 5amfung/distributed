<html ng-app="fireideaz">
  <head>
    <meta charset="UTF-8">
    <title ng-bind="'Fireideaz &mdash; ' + boardId">Fireideaz</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="dist/vendor.css">
    <link rel="stylesheet" type="text/css" href="dist/main.css">
    <script src="dist/main.js"></script>
  </head>
  <body ng-controller="MainCtrl">
    <header ng-show="userId !== ''">
        <h1>Fun Retrospectives - {{boardId}}</h1>
        <span>
            <span class="prime"><i class="fa fa-star"></i>Prime Directive
              <span>“Regardless of what we discover, we understand and truly believe that everyone did the best job he or she could, given what was known at the time, his or her skills and abilities, the resources available and the situation at hand”</span>
            </span>
            <label>Sort by</label>
            <select ng-model="sortField">
              <option value="$id">Created date</option>
              <option value="votes">Votes</option>
            </select>
            <button ng-show="board.columns.length < 6" ng-click="utils.openDialogColumn(this)">New column</button>
            <button ng-click="utils.openDialogBoard(this)">New board</button>
            <iframe src="https://ghbtns.com/github-btn.html?user=funretro&repo=distributed&type=star&count=true" frameborder="0" scrolling="0" width="80px" height="20px"></iframe>
        </span>
    </header>
    <input ng-show="userId !== ''" id="board-context" ng-model="boardContext" ng-change="changeBoardContext()" placeholder="Set the context of the retrospective here..." />
    <span class="container">
        <span ng-show="boardId !== ''" class="message-list" ng-repeat="type in board.columns">
            <ul class="column column_{{ type.id }}">
              <div class="column-header">
                <a class="controls delete" ng-show="utils.showRemoveColumn(type.id, board.columns) && !editing" href="javascript:void(0)" ng-click="utils.openDialogDeleteColumn(this)"><i class="fa fa-times"></i></a>
                <h2 ng-show="!editing" ng-click="editing = true; newName=type.value;">
                  {{type.value}}
                </h2>
                <a ng-show="!editing" class="add" ng-click="addNewMessage(type)" href="javascript:void(0)"><i class="fa fa-plus"></i></a>
              </div>
              <div class="editing-column" ng-show="editing">
                  <input id="new_name_{{ type.id }}" ng-model="newName"></input>
                  <div>
                    <button ng-click="changeColumnName(type.id, newName)" class="success-button">Save</button>
                    <a class="blue" ng-click="editing=false;">Cancel</a>
                  </div>
              </div>
              <li id="{{ message.$id }}" enter-click class="message" ng-class="{'flip': isEditing}" ng-repeat="message in messages | filter: {type: {id: type.id}} | orderBy: sortField:getSortOrder()">
                <div>
                  <div class="front">
                      <div class="message-body">
                          <div class="text">{{message.text}}</div>
                          <a href="javascript:void(0)" class="pencil" ng-click="isEditing = true; utils.focusElement(message.$id);"><i class="fa fa-pencil"></i></a>
                      </div>
                      <div class="votes">
                          <a ng-hide="utils.alreadyVoted(message.$id)" href="javascript:void(0)" ng-click="toggleVote(message.$id, message.votes)">
                              <i class="fa fa-thumbs-o-up"></i>
                          </a>
                          <strong><a ng-show="utils.alreadyVoted(message.$id)" href="javascript:void(0)" ng-click="toggleVote(message.$id, message.votes)"><i class="fa fa-thumbs-o-down"></i> </a>+ {{ message.votes }}</strong>
                      </div>
                  </div>
                  <div class="back">
                      <div class="message-body">
                          <div class="editing">
                              <textarea maxlength="195" ng-model="message.text" ng-change="messages.$save(message)"></textarea>
                              <a class="delete-link" href="javascript:void(0)" ng-click="utils.openDialogDeleteCard(this)"><i class="fa fa-trash"></i></a>
                              <button ng-click="isEditing = false;">DONE</button>
                          </div>
                      </div>
                  </div>
                  <div class="placeholder">
                    {{ message.text }}
                  </div>
                </div>
              </li>
            </ul>
        </span>
    </span>
    <div class="spinner" ng-show="loading">
        <div class="overlay"></div>
        <div class="rect rect1"></div>
        <div class="rect rect2"></div>
        <div class="rect rect3"></div>
        <div class="rect rect4"></div>
        <div class="rect rect5"></div>
    </div>
    <div class="home" ng-show="userId === ''">
    <section>
      <h1><img src="logo.png" />Fun Retrospectives</h1>
      <button ng-click="utils.openDialogBoard(this)">CREATE BOARD</button>
    </section>
    <section class="step">
      <h2>Set the context</h2>
      <p>
Why is this retrospective being held? What will it cover? Retrospectives, similarly to any other meeting, are more effective if the participants align their expectations before getting into it.
 <br><br>
You can start with a pre-defined context or define it in real-time with the participants. But it must be clear to everyone – “This retrospective context is…”.
 <br><br>
Below are some sample contexts:<br>
<ul>
<li>In 14 days, our artifact should reach the main production stage</li>
<li>A feature exploded in production, system was down for two hours until sysadmin could bring it back up</li>
<li>We worked together in the past year and we will work together for another year to come</li>
<li>This retrospective is a bi-weekly recurring scrum retrospective for the ABC team. We are on Sprint 12 out of 30</li>
</ul>
      </p>
    </section>
    <section class="step">
      <h2>
        Read the prime directive
      </h2>
      <p>
In Project Retrospectives: A Handbook for Team Reviews, Norm Kerth introduces the prime directive, a statement intended to set the stage for the retrospective. It says:
<br><br>
“Regardless of what we discover, we understand and truly believe that everyone did the best job he or she could, given what was known at the time, his or her skills and abilities, the resources available and the situation at hand”.
 <br><br>
The statement is invaluable for setting the meeting tone. Make it visible to all participants, and read it out loud before running your retrospective activity.
      </p>
    </section>
    <section class="step">
      <h2>
        Select and run an activity
      </h2>
      <p>
A retrospective activity generates insights for continuous improvement. This is when you gather data, check on the team’s morale, talk about the positive stuff, recognize people and seek improvements. These activities drive the team to reflect about the given context, reinforce a shared vision and generate insights.
<br><br>
It is the time for team members to feel heard. Each important note is written down and acknowledged, so it is visible for the entire team. Shared notes will trigger conversations. Action items are created. Together, the team will look at different angles and perspectives, and raise the level of awareness.
<br><br>
Teams that have regular retrospectives as recurring meetings may want to look for alternative activities. By combining and varying activities, your team retrospectives will be fun, effective, and rewarding.
      </p>
    </section>
    </div>
  </body>
  <script type="text/ng-template" id="addNewColumn">
    <h1>New column</h1>
    <input ng-model="newColumn" type="text"></input>
    <button ng-click="addNewColumn(newColumn); newColumn='';">Add</button>
  </script>
  <script type="text/ng-template" id="addNewBoard">
    <h1>New board</h1>
    <p>Board name example: <strong>team-board-123</strong></p>
    <input ng-model="newBoard.name" ng-change="boardNameChanged()" type="text" placeholder="Board name"></input>
    <button ng-click="createNewBoard()">Create</button>
  </script>
  <script type="text/ng-template" id="deleteCard">
    <h1>Delete note</h1>
    <p>Are you sure you want to delete this note?</strong></p>
    <button class="delete-button" ng-click="deleteMessage(message)">Delete</button>
    <a ng-click="utils.closeAll()">Cancel</a>
  </script>
  <script type="text/ng-template" id="deleteColumn">
    <h1>Delete column</h1>
    <p>Are you sure you want to delete this column?</strong></p>
    <button class="delete-button" ng-click="deleteLastColumn()">Delete</button>
    <a ng-click="utils.closeAll()">Cancel</a>
  </script>
  <script>
    UserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/2TTb5A61iTENpz6Gmnq93w.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();

    UserVoice.push(['set', {
      accent_color: '#448dd6',
      trigger_color: 'white',
      trigger_background_color: '#448dd6'
    }]);

    UserVoice.push(['identify', {
      //email:      'john.doe@example.com', // User’s email address
      //name:       'John Doe', // User’s real name
      //created_at: 1364406966, // Unix timestamp for the date the user signed up
      //id:         123, // Optional: Unique id of the user (if set, this should not change)
      //type:       'Owner', // Optional: segment your users by type
      //account: {
      //  id:           123, // Optional: associate multiple users with a single account
      //  name:         'Acme, Co.', // Account name
      //  created_at:   1364406966, // Unix timestamp for the date the account was created
      //  monthly_rate: 9.99, // Decimal; monthly rate of the account
      //  ltv:          1495.00, // Decimal; lifetime value of the account
      //  plan:         'Enhanced' // Plan name for the account
      //}
    }]);

    UserVoice.push(['addTrigger', {mode: 'smartvote', trigger_position: 'bottom-right' }]);

    UserVoice.push(['autoprompt', {}]);
  </script>
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-66141519-1', 'auto');
      ga('send', 'pageview');
  </script>
</html>
